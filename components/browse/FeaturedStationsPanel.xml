<?xml version="1.0" encoding="utf-8"?>
<component name="FeaturedStationsPanel" extends="Group" initialFocus="StationsRowList">
	<script type="text/brightscript" uri="pkg:/components/browse/FeaturedstationsPanel.brs" />
	<script type="text/brightscript" uri="pkg:/components/StationActions.brs" />
	<script type="text/brightscript" uri="pkg:/source/Config.brs" />
	<script type="text/brightscript" uri="pkg:/source/Downloads.brs" />

	<script type="text/brightscript">
		<![CDATA[
		    sub init()
                m.top.observeField("focusedChild", "focusChanged")
			    
                m.content = createObject("roSGNode", "ContentNode")
            
                m.rowlist = m.top.findNode("StationsRowList")
                m.rowlist.content = m.content
                m.rowlist.observefield("rowItemSelected", "rowItemSelected")

                m.top.SetFocus(true)
				
                setupStations()
            end sub

            function focusChanged()
                if m.top.isInFocusChain()
                    m.rowlist.setFocus(true)
                end if
            end function

		function onKeyEvent(key as String, press as Boolean) as Boolean                
			if NOT press
				return true
			end if

			handled = false

			if key = "back"
				if m.childScreen <> invalid
					m.top.removeChild(m.childScreen)
					m.childScreen = invalid
					m.rowlist.setFocus(true)
					handled = true
				end if
			end if

			return handled
        end function
			
        ]]>
	</script>

	<children>
		
		<Poster
			id="headerPoster"
			uri="pkg:/images/StationSelectionBackgroundTexture.png"
			width="1280" height="720"
			translation="[0,0]"
			opacity="1.0"
		/>

		<BatPlayerRowList
			id="StationsRowList"
			translation="[100,130]"/>


		<BatOverhang
			title="Featured Stations"
			showOptions="false"
			id="overhang"/>	

	</children>

</component>